<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" type="text/css">
  <link rel="stylesheet" href="https://v40.pingendo.com/assets/bootstrap/bootstrap-4.0.0-beta.1.css" type="text/css"> </head>

<body draggable="true">
  <div class="py-5">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <div class="btn-group">
            <a href="#" class="btn btn-outline-primary" id="id_btn_setting">ID Setting</a>
            <a href="#" class="btn btn-outline-primary" id="id_btn_trajectory">Trajectory</a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
    $(document).ready(function(){
    	var socket_uri = "ws://192.168.1.10:9002/guidebook";
    	var sock = new WebSocket(socket_uri)
    	
    	sock.onopen = function(){
    		console.log("open");
    		console.log("open connection");
    		
    	}
    	sock.onclose = function(e){
    		console.log("closed connection");
    	}
    	sock.onmessage = function(e){
    		var jsondata = jQuery.parseJSON(e.data);
    		console.log("on message");
    	}
    	sock.onopen = function() { console.log("open");}
    	sock.onclose = function() { console.log("close");}
    	sock.onmessage = function() { console.log("message");}
    	
    	$("#id_btn_setting").click(function(){
    		data['service'] = "app_timbo_setting";
    		data['command'] = "setting";
    		sock.send(JSON.stringify(data));
        });
    	
    	$("#id_btn_trajectory").click(function(){
    		var data = {}
    		data['service'] = "app_timbo_trajectory_play";
    		data['command'] = "play";
    		sock.send(JSON.stringify(data));
        });
    
    });
  </script>
</body>

</html>